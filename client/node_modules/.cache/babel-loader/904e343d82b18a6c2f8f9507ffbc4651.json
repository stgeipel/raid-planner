{"ast":null,"code":"// import { getFetcher } from '../fetcher';\n// import useSWR from 'swr';\n// function getUser() {\n//   const { data, error } = useSWR(`/api/auth`, getFetcher);\n//   return {\n//     user: data,\n//     isLoading: !error && !data,\n//     isError: error,\n//   };\n// }\n// export { getUser };\nimport fetch from 'isomorphic-fetch';\nexport function getUser() {\n  var data = fetch('http://localhost:3001/api/auth', {\n    headers: {\n      Cookie: 'name=connect.sid'\n    }\n  }).then(function (res) {\n    if (res.status >= 400) {\n      throw new Error('Fehler');\n    }\n\n    return res.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}","map":{"version":3,"sources":["/Users/steffengeipel/dev/github/stgeipel/raid-planner/client/utils/hook/user.ts"],"names":["fetch","getUser","data","headers","Cookie","then","res","status","Error","json","catch","err","console","log"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,MAAkB,kBAAlB;AAEA,OAAO,SAASC,OAAT,GAAmB;AACxB,MAAMC,IAAI,GAAGF,KAAK,CAAC,gCAAD,EAAmC;AACnDG,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV;AAD0C,GAAnC,CAAL,CAGVC,IAHU,CAGL,UAACC,GAAD,EAAS;AACb,QAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACrB,YAAM,IAAIC,KAAJ,CAAU,QAAV,CAAN;AACD;;AACD,WAAOF,GAAG,CAACG,IAAJ,EAAP;AACD,GARU,EASVC,KATU,CASJ,UAACC,GAAD;AAAA,WAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT;AAAA,GATI,CAAb;AAUD","sourcesContent":["// import { getFetcher } from '../fetcher';\n// import useSWR from 'swr';\n\n// function getUser() {\n//   const { data, error } = useSWR(`/api/auth`, getFetcher);\n//   return {\n//     user: data,\n//     isLoading: !error && !data,\n//     isError: error,\n//   };\n// }\n\n// export { getUser };\n\nimport fetch from 'isomorphic-fetch';\n\nexport function getUser() {\n  const data = fetch('http://localhost:3001/api/auth', {\n    headers: { Cookie: 'name=connect.sid' },\n  })\n    .then((res) => {\n      if (res.status >= 400) {\n        throw new Error('Fehler');\n      }\n      return res.json();\n    })\n    .catch((err) => console.log(err));\n}\n"]},"metadata":{},"sourceType":"module"}